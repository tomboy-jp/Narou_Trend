# なろうトレンド
「小説家になろう」様でウケている小説のトレンドを探ります。

### 標本取得条件の定義
まずは今回の調査の目的からどういった基準で標本データを取得するのかを定義する必要があります。  

目的はトレンドの調査ですので、なるべく最近始まった作品を対象とすべきですが、とはいえあまりに直近のものですと、評価が追いついていなかったり、あるいは文量が少なすぎて、小説として評価出来ない状態である、といったリスクが生じます。  
この辺りは本当にさじ加減一つなのですがひとまずは、

- 2018年01月01日〜2018年05月31日の間に初稿が投稿されていること
- 作品の総文量が5000文字以上であること  

以上の条件を採用します。  

また統計量についてですが、  
なるべく多くの標本を取りたかったものの、試しにクローラーを走らせてみたところ、
上記の条件を満たしつつ、エタ(エターナルの略、作品の更新が途絶えてしまっている状態)っていない作品が思いのほか少なかったため、  

- 統計量は2000件

とさせて頂きました。  
他に良いクローラーの走らせ方が見つかったらここは見直すかもしれません。  

### 評価基準の定義
回帰を行う上で評価値は必ず数値化する必要があります。  
幸いなろう様の場合はポイントという明確な基準が用意されていますので、これをそのまま転用することにします。  

これと本文を結びつけて傾向を出すわけですが、全文を対象すると作品ごとの文量に左右されることになり、正しく評価することができません。  
賛否両論あるかとは思いますが、「小説において最も重要な箇所は導入部分である」との仮説のもと、  

- 最初の2000字を評価基準とする

とさせて頂きます。  

あらすじの内容、更新頻度、文量といったセグメントがポイントと強い相関関係にあることは周知の通りですが、  
標本抽出の時点で一定上の更新頻度と文量は担保していますし、導入部分とあらすじは執筆テクニック論といった視点で見ると非常に多くの共通事項を有しています。  
ゆえに「導入部分が優れていればあらすじも優れている傾向にある」との仮説に立ち、導入部分だけに絞って解析していきます。

### データの取得
scrawling.py  

robots.txtによるとなろう様では3秒に1アクセスまでなら許可されているとのことですので、その通りに設定します。  
2000件の取得後(更新ページをぐるぐる回っていたら丸2日かかりました)、ひとまずポイントの分布見てみます。  
![分布図](http://i.imgur.com/Jjwsc.jpg "サンプル")
